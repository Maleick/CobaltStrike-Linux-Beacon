---
phase: 09-test-harness-and-handoff
plan: 02
type: execute
wave: 2
depends_on: [09-01]
files_modified: [MACOS_OPERATOR_RUNBOOK.md]
autonomous: true
requirements: [MAC-14]
---

<objective>
Write the operator runbook for macOS purple-team deployment.

Purpose: Provide a clear guide for operators on how to generate, deploy, and manage macOS beacons.
Output: MACOS_OPERATOR_RUNBOOK.md at the repository root.
</objective>

<execution_context>
@/Users/maleick/.gemini/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@MACOS_VALIDATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Draft Operator Runbook</name>
  <files>MACOS_OPERATOR_RUNBOOK.md</files>
  <action>
    - Create `MACOS_OPERATOR_RUNBOOK.md` at the repository root.
    - Document the generation workflow using the Aggressor script and platform selector.
    - Detail the deployment procedure, including the quarantine xattr removal (`xattr -d com.apple.quarantine`).
    - Explain the ad-hoc signing requirement and how to verify the signature (`codesign -dv`).
    - Provide instructions on build optimization and debug symbol stripping (`make -C implant-macos`).
    - Include a troubleshooting section for common macOS check-in issues.
  </action>
  <verify>
    Visual check of MACOS_OPERATOR_RUNBOOK.md content.
  </verify>
  <done>Operator runbook is complete and covers all essential deployment steps.</done>
</task>

<task type="auto">
  <name>Task 2: Final v2.0 Roadmap Review</name>
  <files></files>
  <action>
    - Review the v2.0 roadmap requirements and confirm all MAC-xx requirements are satisfied.
    - Ensure all phase summaries for Phase 6-9 are complete and accurate.
  </action>
  <verify>
    Check ROADMAP.md and phase summaries.
  </verify>
  <done>v2.0 milestone is confirmed complete and all requirements are met.</done>
</task>

<task type="auto">
  <name>Task 3: Milestone Wrap-up and Handoff</name>
  <files></files>
  <action>
    - Perform a final clean build of all macOS artifacts.
    - Finalize STATE.md to show v2.0 milestone as complete.
    - Prepare a final summary for the user.
  </action>
  <verify>
    ls -l implant-macos/bin/beacon-macos
    grep "status: complete" .planning/STATE.md
  </verify>
  <done>v2.0 milestone is fully wrapped up and ready for user handoff.</done>
</task>

</tasks>

<verification>
MACOS_OPERATOR_RUNBOOK.md exists and all v2.0 requirements are marked complete.
</verification>

<success_criteria>
1. MACOS_OPERATOR_RUNBOOK.md provides clear, actionable instructions for deployment.
2. All v2.0 macOS ARM64 requirements are satisfied.
3. The v2.0 milestone is marked as complete in the planning documents.
</success_criteria>

<output>
After completion, create `.planning/phases/09-test-harness-and-handoff/09-02-SUMMARY.md`
</output>
