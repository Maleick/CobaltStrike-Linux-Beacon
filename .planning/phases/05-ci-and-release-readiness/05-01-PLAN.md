---
phase: 05-ci-and-release-readiness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [.github/workflows/linux-ci.yml]
autonomous: true
requirements: [REL-03]
---

<objective>
Implement automated CI gating for the Linux beacon.

Purpose: Ensure that every code change is validated by a successful build and passing regression tests.
Output: GitHub Actions workflow file in .github/workflows/linux-ci.yml.
</objective>

<execution_context>
@/Users/maleick/.gemini/get-shit-done/workflows/execute-plan.md
</execution_context>

<tasks>

<task type="auto">
  <name>Task 1: Create CI workflow configuration</name>
  <files>.github/workflows/linux-ci.yml</files>
  <action>
    - Create the `.github/workflows/linux-ci.yml` file.
    - Configure it to trigger on `push` to `main` and all `pull_request` events.
    - Jobs:
      - `build-and-test`:
        - Runner: `ubuntu-latest`.
        - Steps:
          - Checkout code.
          - Install system dependencies (`libssl-dev`, `libcurl4-openssl-dev`, `python3`).
          - Build HTTP version: `make -C implant clean && make -C implant TRANSPORT=http`.
          - Build TCP version: `make -C implant clean && make -C implant TRANSPORT=tcp`.
          - Run regression tests: `make -C implant test-quick`.
  </action>
  <verify>
    Check YAML syntax and file existence.
  </verify>
  <done>CI workflow is defined and ready for deployment.</done>
</task>

<task type="auto">
  <name>Task 2: Locally verify workflow paths</name>
  <files>.github/workflows/linux-ci.yml</files>
  <action>
    - Review the created YAML to ensure all paths (`implant/`, `make` commands) match the current project structure.
    - Confirm dependency names for Ubuntu are correct.
  </action>
  <verify>
    Visual check.
  </verify>
  <done>Workflow configuration is verified against the codebase.</done>
</task>

</tasks>

<verification>
.github/workflows/linux-ci.yml exists and follows correct GitHub Actions schema.
</verification>

<success_criteria>
1. CI workflow is triggered by pushes and PRs.
2. Workflow covers both HTTP and TCP build paths.
3. Automated regression tests are included in the CI cycle.
</success_criteria>

<output>
After completion, create `.planning/phases/05-ci-and-release-readiness/05-01-SUMMARY.md`
</output>
